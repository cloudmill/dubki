(()=>{var t,e={168:(t,e,a)=>{"use strict";a(566),a(490);var n=a(354),o=a.n(n),i=(a(917),a(563),a(419),a(248),a(638));a(956),i((function(){a(10)})),i((function(){o().init({once:!0,offset:0,duration:1e3}),window.addEventListener("scroll",(function t(){var e=setTimeout((function(){clearTimeout(e),o().refresh(),window.addEventListener("scroll",t)}),1e3);window.removeEventListener("scroll",t)}))}))},10:(t,e,a)=>{var n=a(638);function o(t){var e=n("[data-type=js-catalog-list]");n.ajax({method:"POST",url:window.location.href,data:{ajax:1,discount:t}}).done((function(t){e.html(t)}))}function i(){var t=n("[data-type=js-recipes-filter]"),e=t.find("select[name=time]").val(),a=t.find("select[name=type]").val(),o=n("[data-type=js-recipes-list]");console.log("ajaxRecipes"),n.ajax({method:"POST",url:window.location.href,data:{ajax:1,time:e,type:a}}).done((function(t){o.html(t)}))}n((function(){console.log("backend")})),n((function(){console.log("vacancy"),n("[data-type=js-vacancy-filter]").on("change",(function(t){var e,a;e=this.value,a=n("[data-type=js-vacancy-list]"),n.ajax({method:"POST",url:window.location.href,data:{ajax:1,cityId:e}}).done((function(t){a.html(t)}))})),n("[data-type=redirect-buy-list]").on("click",(function(){window.location.href="/buy/list"})),n("[data-type=redirect-buy-map]").on("click",(function(){window.location.href="/buy"})),n(document).on("change","[data-type=data-buy-filter]",(function(){var t=n(this),e=t.parents("[data-type=buy-list-container]").find("[data-type=items-container]"),a={regionId:t.val()};e.empty(),n.ajax({type:"POST",url:window.location.href,dataType:"html",data:a,success:function(t){var a=n(t).find("[data-type=items-container]").children();e.append(a)}})})),n("[data-type=autocomplete-region-define]").autocomplete({appendTo:"[data-autocomplete-place]",source:function(t,e){n.ajax({url:"/local/templates/main/include/ajax/autocomplete_define_region.php",dataType:"json",data:{q:t.term},success:function(t){t.error?console.log(t.error):e(t)}})},position:{my:"left top+5"},select:function(t,e){return location.href=window.location.pathname+"?region="+e.item.id,!1}}),n(document).on("submit","[data-type=js-form]",(function(t){t.preventDefault();var e=n(this),a=e.siblings("[data-type=form-response]"),o=e.attr("data-url"),i=e.attr("data-event-type"),c="application/x-www-form-urlencoded; charset=UTF-8",r=!0,d={};if("CONTACT_FORM"!=i){d=new FormData,c=!1,r=!1;var l=e.find("[data-type=file]");d.append("file",l[0].files[0])}e.find("[data-type=get-field], [data-type=get-offer]:checked, [data-type=get-manufacturer]:checked, [data-type=get-organizational]:checked").each((function(){var t=n(this).attr("data-uf"),e=n(this).val();"CONTACT_FORM"!=i?d.append(t,e):d[t]=e})),n.ajax({type:"POST",url:o,dataType:"json",contentType:c,processData:r,data:d,success:function(t){!0===t.success&&(e.addClass("form--hidden"),a.addClass("response--active"))}})})),n(document).on("click",".search-form__button",(function(t){t.preventDefault();var e=n(document).find("[data-type=search-form]").find("input[name=search]").val(),a=n("[data-type=js-search-list]");n.ajax({method:"POST",url:window.location.href,data:{ajax:1,search:e}}).done((function(t){a.html(t)}))})),n(document).on("click","[data-type=search-button-header]",(function(t){t.preventDefault();var e=n(document).find("[data-type=header-search-form]").find("input[name=search]").val();document.location.href="http://dubki-produkty.ru/search/?search="+e})),n("[data-type=js-recipes-filter]").find("select").on("change",(function(){i()})),i(),function(){console.log("product change city"),n("[data-type=product-change-city]").length&&t();function t(){var t=n("[data-type=product-change-city]").find("option:selected"),e=t.attr("data-new"),a=t.attr("data-old");n("[data-type=product-price-old]").html(a+" ₽"),n("[data-type=product-price-new]").html(e+" ₽")}n("[data-type=product-change-city]").on("change",(function(e){console.log("change"),t()}))}(),console.log("discounts"),n("[data-type=js-discounts-filter]").on("click",(function(t){n(document).find("[data-type=js-discounts-filter]").each((function(){n(this).removeClass("category__item--active")})),n(this).addClass("category__item--active"),o(this.getAttribute("data-value"))})),o()}))}},a={};function n(t){var o=a[t];if(void 0!==o)return o.exports;var i=a[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,t=[],n.O=(e,a,o,i)=>{if(!a){var c=1/0;for(l=0;l<t.length;l++){for(var[a,o,i]=t[l],r=!0,d=0;d<a.length;d++)(!1&i||c>=i)&&Object.keys(n.O).every((t=>n.O[t](a[d])))?a.splice(d--,1):(r=!1,i<c&&(c=i));r&&(t.splice(l--,1),e=o())}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,o,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var o,i,[c,r,d]=a,l=0;for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(d)var s=d(n);for(e&&e(a);l<c.length;l++)i=c[l],n.o(t,i)&&t[i]&&t[i][0](),t[c[l]]=0;return n.O(s)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var o=n.O(void 0,[440],(()=>n(168)));o=n.O(o)})();